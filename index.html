




     
function verifier() {
  if (!partieEnCours) return;

  const reponse = parseInt(document.getElementById('user-answer').value);
  const bonneReponse = nombre1 * nombre2;
  const feedback = document.getElementById('feedback');

  if (isNaN(reponse)) {
    feedback.innerText = "⛔ Entrez un nombre.";
    return;
  }

  if (reponse === bonneReponse) {
    feedback.innerText = "✅ Bonne réponse !";
    score++;
    bonnes++;
  } else {
    feedback.innerText = `❌ Mauvaise réponse. C'était ${bonneReponse}.`;
    mauvaises++;
  }

  updateAffichageScore();

  // Désactive bouton vérifier pour éviter double clic
  document.getElementById('btn-verifier').disabled = true;
  document.getElementById('user-answer').disabled = true;

  // Après 5 secondes, on passe à la prochaine question
  setTimeout(() => {
    if (questionsJouees >= questionsMax) {
      finDuJeu();
    } else {
      nouvelleQuestion();
      document.getElementById('btn-verifier').disabled = false;
      document.getElementById('user-answer').disabled = false;
      document.getElementById('user-answer').focus();
    }
  }, 5000);
}

function nouvelleQuestion() {
  if (!partieEnCours) return;

  if (questionsJouees >= questionsMax) {
    finDuJeu();
    return;
  }
  
  questionsJouees++;

  if (modeGrandNombre) {
    nombre1 = Math.floor(Math.random() * 10) + 1;
    nombre2 = Math.floor(Math.random() * 1000) + 1;
  } else {
    nombre1 = Math.floor(Math.random() * 10) + 1;
    nombre2 = Math.floor(Math.random() * 10) + 1;
  }

  document.getElementById('question').innerText = `Question ${questionsJouees} / ${questionsMax} : Combien font ${nombre1} × ${nombre2} ?`;
  document.getElementById('user-answer').value = "";
  document.getElementById('feedback').innerText = "";
}

